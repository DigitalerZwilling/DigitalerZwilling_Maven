<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        


    </head>
    <body>
        <div>TODO write content</div>
        <div>
            <button type="button" onclick="init()" value="init" id="b2">Init</button>
            <button type="button" onclick="sende()" value="send" id="b1">Send</button>
        </div>
        <div id="messages"></div>
        
        <script type="text/javascript">
            var browsersupport = ("WebSocket" in window) ? true : false;
            var host = "ws://localhost/DigitalerZwilling/";
            //var host=location.host;
            var websocket=new WebSocket("ws://localhost:8080/DigitalerZwilling/ExceptionWebSocket");
            var websocket2=new WebSocket("ws://localhost:8080/DigitalerZwilling/SensorWebSocket");
            function init(){
  
   if (browsersupport) {
                    //Oeffnen des WebSockets und Senden einer Nachricht
                    websocket.onopen = function() {

                    };
                    websocket2.onopen = function() {
                        websocket2.send("LIST");
                    };
                    
                    


                }
                else {
                    alert("WebSocket is NOT supported by your Browser:)");
                }
            };
            
             websocket.onmessage = function(event) {

    console.log(event.data);
                //alert(event.data);
 
            //console.log(j_warentraeger);
            //console.log(event.data);
            
                

            
            //updateAttributes(attribute_id,jsonString);
   };
   websocket2.onmessage = function(event){
       console.log(event.data);
   }
            //Browserunterstuetzung vorhanden?
            /*var browserSupport = ("WebSocket" in window) ? true : false;
    
    
            //Zugriff auf Elemente der HTML-Seite
            var messages = document.getElementById("messages");
            
            //Deklariere WebSocket
            var host = "ws://localhost:8080/DigitalerZwilling/ArtikelWebSocket";
            var wSocket = new WebSocket(host);
            
            //Initalisierung der WebSockets
            function init(){
                if (browserSupport) {
                    //Oeffnen des WebSockets und Senden einer Nachricht
                    wSocket.onopen = function() {
                        wSocket.send("LIST");
                    };
                    
                }
                else {
                    alert("WebSocket is NOT supported by your Browser!");
                }
            }*/
            
            
            //Wird nach Start der Seite aufgerufen
     
    
    /*
            //called when a message is received
            wSocket.onmessage = function(event) {
                var received_msg = event.data;
                messages.innerHTML = "<br/>" + received_msg;
            };
    
            // websocket is closed.
            wSocket.onclose = function() {
                alert("Connection is closed...");
            };
            
            //Send something to the WebSocket 
            function send(){
                wSocket.send("GET");
            }*/
    function sende(){
        websocket.send("message");
        websocket2.send("LIST");
        console.log("1111111111111");
    }
      </script>
    </body>
</html>
